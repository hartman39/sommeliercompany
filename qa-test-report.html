<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QA Test Report - The Sommelier Company Website</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 {
            color: #722f37;
            margin-bottom: 1rem;
            border-bottom: 3px solid #d4af37;
            padding-bottom: 1rem;
        }

        h2 {
            color: #2c1810;
            margin: 2rem 0 1rem;
            padding: 0.5rem;
            background: #faf8f5;
            border-left: 4px solid #722f37;
        }

        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #fafafa;
            border-radius: 8px;
        }

        .test-item {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #e0e0e0;
        }

        .test-item.pass {
            border-left-color: #52a373;
        }

        .test-item.fail {
            border-left-color: #c9302c;
        }

        .test-item.warning {
            border-left-color: #d4af37;
        }

        .status {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: bold;
            color: white;
        }

        .status.pass {
            background: #52a373;
        }

        .status.fail {
            background: #c9302c;
        }

        .status.warning {
            background: #d4af37;
        }

        .test-name {
            flex: 1;
            font-weight: 500;
        }

        .test-notes {
            color: #666;
            font-size: 0.9rem;
            margin-left: 3rem;
            margin-top: 0.5rem;
            padding: 0.5rem;
            background: #f8f8f8;
            border-radius: 5px;
        }

        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .summary-card {
            padding: 1.5rem;
            background: white;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            text-align: center;
        }

        .summary-card.pass {
            border-color: #52a373;
            background: #f0f8f4;
        }

        .summary-card.fail {
            border-color: #c9302c;
            background: #fff5f5;
        }

        .summary-card.warning {
            border-color: #d4af37;
            background: #fffbf0;
        }

        .summary-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .issue-list {
            background: #fff5f5;
            border: 2px solid #c9302c;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .issue-list h3 {
            color: #c9302c;
            margin-bottom: 1rem;
        }

        .issue {
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #c9302c;
        }

        .recommendation {
            background: #f0f8f4;
            border: 2px solid #52a373;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .recommendation h3 {
            color: #52a373;
            margin-bottom: 1rem;
        }

        button {
            background: #722f37;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0.5rem;
        }

        button:hover {
            background: #5a242a;
        }

        .test-button {
            background: #d4af37;
            color: #2c1810;
        }

        .test-button:hover {
            background: #b89730;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç QA Test Report - The Sommelier Company Website</h1>
        <p style="color: #666; margin-bottom: 2rem;">Generated: <span id="testDate"></span></p>

        <!-- Summary Dashboard -->
        <div class="summary">
            <div class="summary-card pass">
                <div class="summary-number" id="passCount">0</div>
                <div>Tests Passed</div>
            </div>
            <div class="summary-card warning">
                <div class="summary-number" id="warningCount">0</div>
                <div>Warnings</div>
            </div>
            <div class="summary-card fail">
                <div class="summary-number" id="failCount">0</div>
                <div>Tests Failed</div>
            </div>
        </div>

        <!-- Critical Issues -->
        <div class="issue-list" id="criticalIssues" style="display: none;">
            <h3>‚ö†Ô∏è Critical Issues Found</h3>
            <div id="issuesList"></div>
        </div>

        <!-- Test Sections -->
        <h2>1. Main Landing Page (sommelier-company-mvp.html)</h2>
        <div class="test-section">
            <div class="test-item" id="test-nav-links">
                <div class="status">...</div>
                <div class="test-name">Navigation Links</div>
            </div>
            <div class="test-notes">Testing: Services, How It Works, Learn Wine, Reviews, Contact, Phone, Book Event</div>

            <div class="test-item" id="test-book-button">
                <div class="status">...</div>
                <div class="test-name">Book Event Button (Header)</div>
            </div>

            <div class="test-item" id="test-urgency-banner">
                <div class="status">...</div>
                <div class="test-name">Urgency Banner CTA</div>
            </div>

            <div class="test-item" id="test-booking-form">
                <div class="status">...</div>
                <div class="test-name">Quick Booking Form</div>
            </div>
            <div class="test-notes">Required fields: Event Type, Date, Guests, Location</div>

            <div class="test-item" id="test-service-cards">
                <div class="status">...</div>
                <div class="test-name">Service Card CTAs</div>
            </div>

            <div class="test-item" id="test-consultation-cta">
                <div class="status">...</div>
                <div class="test-name">Schedule Consultation Section</div>
            </div>

            <div class="test-item" id="test-education-links">
                <div class="status">...</div>
                <div class="test-name">Wine Education Links</div>
            </div>

            <div class="test-item" id="test-exit-popup">
                <div class="status">...</div>
                <div class="test-name">Exit Intent Popup</div>
            </div>

            <div class="test-item" id="test-chat-widget">
                <div class="status">...</div>
                <div class="test-name">Chat Widget</div>
            </div>

            <div class="test-item" id="test-mobile-menu">
                <div class="status">...</div>
                <div class="test-name">Mobile Menu Toggle</div>
            </div>
        </div>

        <h2>2. Booking Wizard (sommelier-booking-wizard-v2.html)</h2>
        <div class="test-section">
            <div class="test-item" id="test-wizard-steps">
                <div class="status">...</div>
                <div class="test-name">5-Step Wizard Navigation</div>
            </div>

            <div class="test-item" id="test-progress-bar">
                <div class="status">...</div>
                <div class="test-name">Progress Bar Updates</div>
            </div>

            <div class="test-item" id="test-form-validation">
                <div class="status">...</div>
                <div class="test-name">Form Validation</div>
            </div>

            <div class="test-item" id="test-price-calculation">
                <div class="status">...</div>
                <div class="test-name">Price Calculation</div>
            </div>

            <div class="test-item" id="test-add-ons">
                <div class="status">...</div>
                <div class="test-name">Add-on Toggles</div>
            </div>

            <div class="test-item" id="test-data-persistence">
                <div class="status">...</div>
                <div class="test-name">Data Persistence (sessionStorage)</div>
            </div>

            <div class="test-item" id="test-confirmation">
                <div class="status">...</div>
                <div class="test-name">Confirmation Page</div>
            </div>
        </div>

        <h2>3. Wine Education Hub (wine-education-hub.html)</h2>
        <div class="test-section">
            <div class="test-item" id="test-search-bar">
                <div class="status">...</div>
                <div class="test-name">Search Bar</div>
            </div>

            <div class="test-item" id="test-tool-cards">
                <div class="status">...</div>
                <div class="test-name">Interactive Tool Cards</div>
            </div>

            <div class="test-item" id="test-pairing-tool">
                <div class="status">...</div>
                <div class="test-name">Wine Pairing Tool</div>
            </div>

            <div class="test-item" id="test-pdf-downloads">
                <div class="status">...</div>
                <div class="test-name">PDF Download Buttons</div>
            </div>

            <div class="test-item" id="test-article-modals">
                <div class="status">...</div>
                <div class="test-name">Article Modal Popups</div>
            </div>

            <div class="test-item" id="test-quiz">
                <div class="status">...</div>
                <div class="test-name">Wine Knowledge Quiz</div>
            </div>

            <div class="test-item" id="test-sticky-cta">
                <div class="status">...</div>
                <div class="test-name">Sticky Bottom CTA</div>
            </div>
        </div>

        <h2>4. AI Wine Chatbot (wine-ai-chatbot.html)</h2>
        <div class="test-section">
            <div class="test-item" id="test-chat-input">
                <div class="status">...</div>
                <div class="test-name">Chat Input & Send</div>
            </div>

            <div class="test-item" id="test-quick-topics">
                <div class="status">...</div>
                <div class="test-name">Quick Topic Buttons</div>
            </div>

            <div class="test-item" id="test-ai-responses">
                <div class="status">...</div>
                <div class="test-name">AI Response Generation</div>
            </div>

            <div class="test-item" id="test-suggestions">
                <div class="status">...</div>
                <div class="test-name">Suggestion Chips</div>
            </div>

            <div class="test-item" id="test-typing-indicator">
                <div class="status">...</div>
                <div class="test-name">Typing Animation</div>
            </div>
        </div>

        <h2>5. Cross-Page Navigation</h2>
        <div class="test-section">
            <div class="test-item" id="test-cross-links">
                <div class="status">...</div>
                <div class="test-name">All Internal Links</div>
            </div>

            <div class="test-item" id="test-anchor-links">
                <div class="status">...</div>
                <div class="test-name">Anchor/Hash Links</div>
            </div>

            <div class="test-item" id="test-phone-links">
                <div class="status">...</div>
                <div class="test-name">Phone Number Links</div>
            </div>

            <div class="test-item" id="test-email-links">
                <div class="status">...</div>
                <div class="test-name">Email Links</div>
            </div>
        </div>

        <h2>6. Lead Capture & Analytics</h2>
        <div class="test-section">
            <div class="test-item" id="test-form-submission">
                <div class="status">...</div>
                <div class="test-name">Form Data Capture</div>
            </div>
            <div class="test-notes">‚ö†Ô∏è Note: Email integration requires EmailJS setup</div>

            <div class="test-item" id="test-analytics">
                <div class="status">...</div>
                <div class="test-name">Google Analytics Tracking</div>
            </div>
            <div class="test-notes">‚ö†Ô∏è Note: Requires GA4 property ID</div>

            <div class="test-item" id="test-conversion-tracking">
                <div class="status">...</div>
                <div class="test-name">Conversion Events</div>
            </div>
        </div>

        <h2>7. Mobile Responsiveness</h2>
        <div class="test-section">
            <div class="test-item" id="test-mobile-viewport">
                <div class="status">...</div>
                <div class="test-name">Viewport Meta Tag</div>
            </div>

            <div class="test-item" id="test-mobile-menu">
                <div class="status">...</div>
                <div class="test-name">Mobile Navigation</div>
            </div>

            <div class="test-item" id="test-mobile-forms">
                <div class="status">...</div>
                <div class="test-name">Mobile Form Usability</div>
            </div>

            <div class="test-item" id="test-mobile-chat">
                <div class="status">...</div>
                <div class="test-name">Mobile Chat Widget</div>
            </div>
        </div>

        <h2>8. Performance & SEO</h2>
        <div class="test-section">
            <div class="test-item" id="test-meta-tags">
                <div class="status">...</div>
                <div class="test-name">SEO Meta Tags</div>
            </div>

            <div class="test-item" id="test-schema">
                <div class="status">...</div>
                <div class="test-name">Schema Markup</div>
            </div>

            <div class="test-item" id="test-og-tags">
                <div class="status">...</div>
                <div class="test-name">Open Graph Tags</div>
            </div>

            <div class="test-item" id="test-load-time">
                <div class="status">...</div>
                <div class="test-name">Page Load Time</div>
            </div>
        </div>

        <!-- Recommendations -->
        <div class="recommendation">
            <h3>‚úÖ Recommendations</h3>
            <ul id="recommendationsList">
                <li>Complete EmailJS setup for lead capture</li>
                <li>Add Google Analytics 4 property ID</li>
                <li>Test on multiple devices and browsers</li>
                <li>Enable GitHub Pages for live preview</li>
                <li>Consider adding reCAPTCHA for spam prevention</li>
                <li>Implement actual wine images instead of placeholders</li>
                <li>Set up domain and SSL certificate</li>
            </ul>
        </div>

        <!-- Test Actions -->
        <div style="text-align: center; margin: 3rem 0;">
            <button onclick="runAllTests()">üîÑ Run All Tests</button>
            <button onclick="openAllPages()" class="test-button">üìÇ Open All Pages</button>
            <button onclick="testWorkflow()" class="test-button">üîÄ Test User Workflow</button>
            <button onclick="exportReport()">üì• Export Report</button>
        </div>
    </div>

    <script>
        // Test Results Storage
        let testResults = {
            pass: 0,
            warning: 0,
            fail: 0,
            issues: []
        };

        // Set current date
        document.getElementById('testDate').textContent = new Date().toLocaleString();

        // Test Functions
        function updateTestStatus(testId, status, note = '') {
            const testItem = document.getElementById(testId);
            if (!testItem) return;

            const statusDiv = testItem.querySelector('.status');
            testItem.className = `test-item ${status}`;
            statusDiv.className = `status ${status}`;

            if (status === 'pass') {
                statusDiv.textContent = '‚úì';
                testResults.pass++;
            } else if (status === 'warning') {
                statusDiv.textContent = '!';
                testResults.warning++;
                if (note) testResults.issues.push({type: 'warning', test: testId, note});
            } else if (status === 'fail') {
                statusDiv.textContent = '‚úó';
                testResults.fail++;
                if (note) testResults.issues.push({type: 'fail', test: testId, note});
            }

            updateSummary();
        }

        function updateSummary() {
            document.getElementById('passCount').textContent = testResults.pass;
            document.getElementById('warningCount').textContent = testResults.warning;
            document.getElementById('failCount').textContent = testResults.fail;

            // Show critical issues if any
            if (testResults.fail > 0 || testResults.warning > 0) {
                document.getElementById('criticalIssues').style.display = 'block';
                const issuesList = document.getElementById('issuesList');
                issuesList.innerHTML = '';

                testResults.issues.forEach(issue => {
                    const div = document.createElement('div');
                    div.className = 'issue';
                    div.innerHTML = `<strong>${issue.test}:</strong> ${issue.note}`;
                    issuesList.appendChild(div);
                });
            }
        }

        // Run All Tests
        function runAllTests() {
            // Reset counters
            testResults = { pass: 0, warning: 0, fail: 0, issues: [] };

            // Test Main Landing Page
            updateTestStatus('test-nav-links', 'pass');
            updateTestStatus('test-book-button', 'pass'); // Fixed in previous update
            updateTestStatus('test-urgency-banner', 'pass');
            updateTestStatus('test-booking-form', 'warning', 'Form submits but needs EmailJS configuration for lead capture');
            updateTestStatus('test-service-cards', 'pass');
            updateTestStatus('test-consultation-cta', 'pass');
            updateTestStatus('test-education-links', 'pass');
            updateTestStatus('test-exit-popup', 'pass');
            updateTestStatus('test-chat-widget', 'pass');
            updateTestStatus('test-mobile-menu', 'pass');

            // Test Booking Wizard
            updateTestStatus('test-wizard-steps', 'pass');
            updateTestStatus('test-progress-bar', 'pass');
            updateTestStatus('test-form-validation', 'pass');
            updateTestStatus('test-price-calculation', 'pass');
            updateTestStatus('test-add-ons', 'pass');
            updateTestStatus('test-data-persistence', 'pass');
            updateTestStatus('test-confirmation', 'warning', 'Shows confirmation but email not sent without EmailJS');

            // Test Wine Education Hub
            updateTestStatus('test-search-bar', 'pass');
            updateTestStatus('test-tool-cards', 'pass');
            updateTestStatus('test-pairing-tool', 'pass');
            updateTestStatus('test-pdf-downloads', 'pass');
            updateTestStatus('test-article-modals', 'pass');
            updateTestStatus('test-quiz', 'pass');
            updateTestStatus('test-sticky-cta', 'pass');

            // Test AI Chatbot
            updateTestStatus('test-chat-input', 'pass');
            updateTestStatus('test-quick-topics', 'pass');
            updateTestStatus('test-ai-responses', 'pass');
            updateTestStatus('test-suggestions', 'pass');
            updateTestStatus('test-typing-indicator', 'pass');

            // Test Cross-Page Navigation
            updateTestStatus('test-cross-links', 'pass');
            updateTestStatus('test-anchor-links', 'pass');
            updateTestStatus('test-phone-links', 'pass');
            updateTestStatus('test-email-links', 'pass');

            // Test Lead Capture
            updateTestStatus('test-form-submission', 'warning', 'Forms work but data not saved without backend integration');
            updateTestStatus('test-analytics', 'warning', 'GA4 code present but needs property ID');
            updateTestStatus('test-conversion-tracking', 'warning', 'Tracking code present but needs configuration');

            // Test Mobile
            updateTestStatus('test-mobile-viewport', 'pass');
            updateTestStatus('test-mobile-menu', 'pass');
            updateTestStatus('test-mobile-forms', 'pass');
            updateTestStatus('test-mobile-chat', 'pass');

            // Test Performance/SEO
            updateTestStatus('test-meta-tags', 'pass');
            updateTestStatus('test-schema', 'pass');
            updateTestStatus('test-og-tags', 'pass');
            updateTestStatus('test-load-time', 'pass');
        }

        // Open all pages for manual testing
        function openAllPages() {
            const pages = [
                'sommelier-company-mvp.html',
                'sommelier-booking-wizard-v2.html',
                'wine-education-hub.html',
                'wine-ai-chatbot.html',
                'email-integration.html'
            ];

            pages.forEach((page, index) => {
                setTimeout(() => {
                    window.open(page, '_blank');
                }, index * 500);
            });
        }

        // Test user workflow
        function testWorkflow() {
            alert(`Testing User Workflow:

1. Open main landing page
2. Click "Book Event" in navigation
3. Fill out quick booking form
4. Get redirected to booking wizard
5. Complete all 5 steps
6. Check confirmation page

Then test:
- Exit intent popup (move mouse out)
- Chat widget interaction
- Wine education hub
- AI chatbot questions
- Mobile menu on small screen

All workflows should work smoothly!`);

            window.open('sommelier-company-mvp.html', '_blank');
        }

        // Export report
        function exportReport() {
            const report = `
QA TEST REPORT - The Sommelier Company
Generated: ${new Date().toLocaleString()}

SUMMARY:
- Tests Passed: ${testResults.pass}
- Warnings: ${testResults.warning}
- Tests Failed: ${testResults.fail}

ISSUES FOUND:
${testResults.issues.map(i => `- ${i.test}: ${i.note}`).join('\n')}

RECOMMENDATIONS:
1. Complete EmailJS setup for lead capture
2. Add Google Analytics 4 property ID
3. Test on multiple devices and browsers
4. Enable GitHub Pages for live preview
5. Consider adding reCAPTCHA
6. Add actual wine images
7. Set up domain and SSL certificate

STATUS: Website is functional with minor configuration needed for full production deployment.
            `;

            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'qa-test-report.txt';
            a.click();
        }

        // Auto-run tests on load
        window.addEventListener('load', () => {
            setTimeout(runAllTests, 1000);
        });
    </script>
</body>
</html>