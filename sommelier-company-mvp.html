<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Private Sommelier Near Me | Wine Tastings NYC, LA, SF | The Sommelier Company</title>
    <meta name="description" content="⭐ 4.9/5 Rating (527 Reviews) • Book certified sommeliers for wine tastings in 50+ cities. Corporate events from $150/person. Instant quotes. 100% satisfaction guarantee.">
    <meta name="keywords" content="private sommelier near me, wine tasting NYC, corporate wine events San Francisco, hire sommelier Los Angeles, wine tasting party Chicago, virtual wine tasting events, sommelier for wedding, wine expert Boston, team building wine tasting, private wine consultant">

    <!-- Open Graph -->
    <meta property="og:title" content="The Sommelier Company - Premium Wine Events & Tastings">
    <meta property="og:description" content="Book expert-led wine tastings nationwide. Private & corporate events.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.sommeliercompany.com">

    <!-- Enhanced Schema.org markup for better SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "The Sommelier Company",
        "description": "Premium wine tasting events and certified sommelier services nationwide",
        "url": "https://www.sommeliercompany.com",
        "telephone": "415-289-9760",
        "priceRange": "$$$",
        "image": "https://www.sommeliercompany.com/images/hero.jpg",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "US"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 37.7749,
            "longitude": -122.4194
        },
        "areaServed": [
            "New York", "Los Angeles", "San Francisco", "Chicago", "Boston",
            "Miami", "Seattle", "Austin", "Denver", "Atlanta"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "bestRating": "5",
            "ratingCount": "527"
        },
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Wine Event Services",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Corporate Wine Tasting"
                    },
                    "price": "150.00",
                    "priceCurrency": "USD"
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Private Wine Tasting"
                    },
                    "price": "125.00",
                    "priceCurrency": "USD"
                }
            ]
        }
    }
    </script>

    <!-- FAQ Schema for Common Questions -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{
            "@type": "Question",
            "name": "How much does a private sommelier cost?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Our sommelier services start at $125 per person for private events and $150 per person for corporate events. Virtual tastings start at $95 per person."
            }
        }, {
            "@type": "Question",
            "name": "What cities do you serve?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "We provide sommelier services in all major US cities including New York, Los Angeles, San Francisco, Chicago, Boston, Miami, Seattle, Austin, and 40+ more cities nationwide."
            }
        }]
    }
    </script>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #722f37;
            --primary-dark: #5a242a;
            --secondary: #d4af37;
            --text-dark: #2c1810;
            --text-light: #6b5d54;
            --bg-light: #faf8f5;
            --bg-white: #ffffff;
            --success: #52a373;
            --accent: #c9302c;
        }

        body {
            font-family: 'Helvetica Neue', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--bg-white);
        }

        /* Header & Navigation */
        header {
            background: var(--bg-white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2.5rem;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: color 0.3s;
            font-size: 1rem;
        }

        .nav-menu a:hover {
            color: var(--primary);
        }

        .cta-button {
            background: var(--primary);
            color: white;
            padding: 0.75rem 1.75rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .cta-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(114, 47, 55, 0.2);
        }

        /* Enhanced Book Event Button in Navigation */
        .nav-menu .cta-button {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            padding: 0.9rem 2rem;
            font-size: 1.1rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
            position: relative;
            overflow: hidden;
            animation: pulseGlow 2s infinite;
            border: 2px solid transparent;
            text-transform: uppercase;
        }

        .nav-menu .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .nav-menu .cta-button:hover::before {
            left: 100%;
        }

        .nav-menu .cta-button:hover {
            background: linear-gradient(135deg, #ff5722, #ff9800);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
            border-color: rgba(255,255,255,0.3);
        }

        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
            }
            50% {
                box-shadow: 0 4px 25px rgba(255, 107, 53, 0.5), 0 0 30px rgba(255, 107, 53, 0.2);
            }
        }

        /* Add blinking dot for urgency */
        .nav-menu .cta-button::after {
            content: '';
            position: absolute;
            top: -3px;
            right: -3px;
            width: 12px;
            height: 12px;
            background: #52a373;
            border-radius: 50%;
            border: 2px solid white;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.3; }
        }

        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: var(--text-dark);
            margin: 3px 0;
            transition: 0.3s;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(114, 47, 55, 0.95), rgba(212, 175, 55, 0.95)),
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080"><rect fill="%23722f37" width="1920" height="1080"/></svg>');
            background-size: cover;
            background-position: center;
            padding: 10rem 5% 6rem;
            color: white;
            text-align: center;
            margin-top: 70px;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.4rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
            font-weight: 300;
        }

        .trust-indicators {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin: 3rem 0;
            flex-wrap: wrap;
        }

        .trust-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.1rem;
        }

        .trust-item .icon {
            color: var(--secondary);
            font-size: 1.3rem;
        }

        /* Instant Booking Widget */
        .booking-widget {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            max-width: 800px;
            margin: -3rem auto 4rem;
            position: relative;
            z-index: 10;
        }

        .booking-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            color: var(--text-dark);
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group select {
            padding: 1rem;
            border: 2px solid #e5e5e5;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(114, 47, 55, 0.1);
        }

        .booking-submit {
            grid-column: 1 / -1;
            background: var(--primary);
            color: white;
            padding: 1.25rem;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 0.5rem;
        }

        .booking-submit:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(114, 47, 55, 0.3);
        }

        /* Services Section */
        .services {
            padding: 5rem 5%;
            background: var(--bg-light);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-size: 2.8rem;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .section-header p {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: white;
            border-radius: 15px;
            padding: 2.5rem;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .service-card:hover::before {
            transform: scaleX(1);
        }

        .service-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        .service-card p {
            color: var(--text-light);
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .service-price {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .service-price span {
            font-size: 1rem;
            color: var(--text-light);
            font-weight: 400;
        }

        /* How It Works */
        .how-it-works {
            padding: 5rem 5%;
            background: white;
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        .step {
            text-align: center;
            position: relative;
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 auto 1.5rem;
        }

        .step h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        .step p {
            color: var(--text-light);
            line-height: 1.8;
        }

        /* Testimonials */
        .testimonials {
            padding: 5rem 5%;
            background: var(--bg-light);
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testimonial {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }

        .stars {
            color: var(--secondary);
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .testimonial-text {
            font-style: italic;
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .author-info h4 {
            color: var(--text-dark);
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        .author-info p {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* AI Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .chatbot-button {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            transition: all 0.3s;
            position: relative;
        }

        .chatbot-button:hover {
            transform: scale(1.1);
            background: var(--primary-dark);
        }

        .chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .chatbot-window {
            position: absolute;
            bottom: 90px;
            right: 0;
            width: 380px;
            height: 550px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-window.active {
            display: flex;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            background: var(--primary);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            background: #52a373;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 1rem;
            border-radius: 15px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.bot {
            background: var(--bg-light);
            align-self: flex-start;
        }

        .message.user {
            background: var(--primary);
            color: white;
            align-self: flex-end;
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .quick-reply {
            padding: 0.5rem 1rem;
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .quick-reply:hover {
            background: var(--primary);
            color: white;
        }

        .chat-input {
            display: flex;
            padding: 1rem;
            border-top: 1px solid #e5e5e5;
            gap: 0.5rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid #e5e5e5;
            border-radius: 25px;
            font-size: 1rem;
        }

        .chat-input button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .chat-input button:hover {
            background: var(--primary-dark);
        }

        /* Footer */
        footer {
            background: var(--text-dark);
            color: white;
            padding: 3rem 5%;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-section h3 {
            margin-bottom: 1.5rem;
            color: var(--secondary);
        }

        .footer-section p,
        .footer-section a {
            color: #ccc;
            text-decoration: none;
            line-height: 2;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--secondary);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .social-links a:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #999;
        }

        /* Floating Action Button for Mobile */
        .floating-cta {
            display: none;
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 8px 30px rgba(255, 107, 53, 0.5);
            z-index: 999;
            text-decoration: none;
            animation: bounceIn 0.5s ease, floatButton 3s ease-in-out infinite;
            border: 3px solid white;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        @keyframes bounceIn {
            0% { transform: translateX(-50%) scale(0); }
            50% { transform: translateX(-50%) scale(1.1); }
            100% { transform: translateX(-50%) scale(1); }
        }

        @keyframes floatButton {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }

        .floating-cta:hover {
            transform: translateX(-50%) scale(1.1);
            box-shadow: 0 12px 40px rgba(255, 107, 53, 0.6);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .floating-cta {
                display: block;
            }
            .nav-menu {
                position: fixed;
                left: -100%;
                top: 70px;
                flex-direction: column;
                background: white;
                width: 100%;
                padding: 2rem;
                transition: 0.3s;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            }

            .nav-menu.active {
                left: 0;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .booking-form {
                grid-template-columns: 1fr;
            }

            .trust-indicators {
                flex-direction: column;
                gap: 1rem;
            }

            .services-grid,
            .testimonials-grid {
                grid-template-columns: 1fr;
            }

            .chatbot-window {
                width: calc(100vw - 30px);
                right: 15px;
            }
        }

        /* Loading Animation */
        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid var(--bg-light);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus Styles */
        *:focus {
            outline: 3px solid var(--secondary);
            outline-offset: 2px;
        }

        /* Print Styles */
        @media print {
            header, .chatbot-container, .booking-widget {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Urgency Banner -->
    <div style="background: linear-gradient(90deg, #ff6b35, #f7931e); color: white; padding: 0.75rem; text-align: center; font-weight: 600; position: fixed; top: 0; width: 100%; z-index: 9999; display: flex; justify-content: center; align-items: center; gap: 1rem;">
        <span style="animation: pulse 2s infinite;">🔥 Limited December Availability</span>
        <span>Book Your Holiday Event Now - Save 15% This Week Only!</span>
        <a href="#bookingWidget" style="background: white; color: #ff6b35; padding: 0.6rem 1.25rem; border-radius: 25px; text-decoration: none; font-weight: 700; box-shadow: 0 3px 10px rgba(0,0,0,0.2); transition: all 0.3s; display: inline-block;" onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 5px 15px rgba(0,0,0,0.3)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 3px 10px rgba(0,0,0,0.2)'">Get Quote →</a>
    </div>
    <!-- Header -->
    <header id="header" style="margin-top: 50px;">
        <nav>
            <a href="#" class="logo">
                <span>🍷</span> The Sommelier Company
            </a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#services">Services</a></li>
                <li><a href="#how-it-works">How It Works</a></li>
                <li><a href="wine-education-hub.html">Learn Wine</a></li>
                <li><a href="#testimonials">Reviews</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="tel:415-289-9760">📞 415-289-9760</a></li>
                <li><a href="#bookingWidget" class="cta-button"><span style="margin-right: 0.5rem;">🎆</span>Book Event<span style="margin-left: 0.5rem;">→</span></a></li>
            </ul>
            <div class="mobile-menu-toggle" id="mobileToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Book a Certified Sommelier in <span id="userCity">Your City</span></h1>
            <p>Transform any event into an unforgettable wine experience • Available in 50+ cities • Starting at $125/person</p>

            <div class="trust-indicators">
                <div class="trust-item">
                    <span class="icon" style="font-size: 1.8rem; font-weight: 700; color: var(--secondary);">4.9</span>
                    <span>★★★★★ (527 Reviews)</span>
                </div>
                <div class="trust-item">
                    <span class="icon" style="font-size: 1.8rem; font-weight: 700; color: var(--secondary);">24hr</span>
                    <span>Response Guarantee</span>
                </div>
                <div class="trust-item">
                    <span class="icon" style="font-size: 1.8rem; font-weight: 700; color: var(--secondary);">100%</span>
                    <span>Satisfaction Guarantee</span>
                </div>
            </div>

            <!-- Hero CTA Buttons -->
            <div style="margin-top: 2rem; animation: fadeInUp 1s ease 0.5s both;">
                <a href="#bookingWidget" style="background: linear-gradient(135deg, #ff6b35, #f7931e); color: white; padding: 1.2rem 2.5rem; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.3rem; display: inline-block; margin: 0.5rem; box-shadow: 0 8px 30px rgba(255, 107, 53, 0.4); transform: scale(1); transition: all 0.3s; position: relative; overflow: hidden; text-transform: uppercase; letter-spacing: 1px;" onmouseover="this.style.transform='scale(1.1) translateY(-3px)'; this.style.boxShadow='0 12px 40px rgba(255, 107, 53, 0.5)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 30px rgba(255, 107, 53, 0.4)'">
                    <span style="position: relative; z-index: 1;">🎆 Get Instant Quote</span>
                    <span style="position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); transition: left 0.5s;"></span>
                </a>
                <a href="tel:415-289-9760" style="background: transparent; border: 3px solid white; color: white; padding: 1.15rem 2.5rem; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.2rem; display: inline-block; margin: 0.5rem; transition: all 0.3s;" onmouseover="this.style.background='white'; this.style.color='#722f37'; this.style.transform='scale(1.05) translateY(-2px)'" onmouseout="this.style.background='transparent'; this.style.color='white'; this.style.transform='scale(1)'">
                    📞 Call Now
                </a>
            </div>

            <style>
                @keyframes fadeInUp {
                    from {
                        opacity: 0;
                        transform: translateY(30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
            </style>
        </div>
    </section>

    <!-- Instant Booking Widget Enhanced -->
    <div class="booking-widget" id="bookingWidget" style="border: 3px solid var(--secondary);">
        <div style="text-align: center; margin-bottom: 1.5rem;">
            <h2 style="color: var(--text-dark); margin-bottom: 0.5rem;">Get Your Free Custom Quote in 30 Seconds</h2>
            <span style="background: #ff6b35; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-weight: 600; display: inline-block;">🎉 Save 15% on December Bookings</span>
        </div>
        <form class="booking-form" id="quickBookingForm">
            <div class="form-group">
                <label for="eventType">Event Type</label>
                <select id="eventType" required>
                    <option value="">Select Event Type</option>
                    <option value="corporate">Corporate Tasting</option>
                    <option value="private">Private Party</option>
                    <option value="wedding">Wedding</option>
                    <option value="virtual">Virtual Tasting</option>
                    <option value="education">Wine Education</option>
                </select>
            </div>

            <div class="form-group">
                <label for="eventDate">Event Date</label>
                <input type="date" id="eventDate" required min="">
            </div>

            <div class="form-group">
                <label for="guestCount">Number of Guests</label>
                <input type="number" id="guestCount" min="10" max="500" placeholder="10-500 guests" required>
            </div>

            <div class="form-group">
                <label for="location">City or Zip Code</label>
                <input type="text" id="location" placeholder="e.g., New York or 10001" required>
            </div>

            <button type="submit" class="booking-submit" style="background: #ff6b35; font-size: 1.3rem;">Get My Free Quote Now →</button>
        </form>
        <p style="text-align: center; margin-top: 1rem; color: var(--text-light); font-size: 0.9rem;">
            ✅ No obligation • 💳 No credit card required • 📞 No sales pressure
        </p>
        <div style="display: flex; justify-content: center; gap: 2rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e5e5e5;">
            <span style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-light); font-size: 0.85rem;">
                🔒 SSL Secured
            </span>
            <span style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-light); font-size: 0.85rem;">
                ⏱ Takes 30 seconds
            </span>
            <span style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-light); font-size: 0.85rem;">
                👥 Trusted by 500+ companies
            </span>
        </div>
    </div>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <div class="section-header">
                <h2>Our Premium Services</h2>
                <p>Curated wine experiences tailored to your event</p>
            </div>

            <div class="services-grid">
                <div class="service-card" onclick="selectService('corporate')">
                    <div class="service-icon">🏢</div>
                    <h3>Corporate Events</h3>
                    <p>Impress clients and reward teams with sophisticated wine tastings led by certified sommeliers</p>
                    <div class="service-price">From $150 <span>/person</span></div>
                    <div style="color: #ff6b35; font-weight: 600; margin: 0.5rem 0;">🔥 Most Popular</div>
                    <a href="#bookingWidget" class="cta-button" onclick="trackEvent('Service', 'Click', 'Corporate')">Get Quote →</a>
                </div>

                <div class="service-card" onclick="selectService('private')">
                    <div class="service-icon">🥂</div>
                    <h3>Private Tastings</h3>
                    <p>Exclusive in-home experiences for intimate gatherings with personalized wine selections</p>
                    <div class="service-price">From $125 <span>/person</span></div>
                    <div style="color: var(--success); font-weight: 600; margin: 0.5rem 0;">✅ Best Value</div>
                    <a href="#bookingWidget" class="cta-button" onclick="trackEvent('Service', 'Click', 'Private')">Get Quote →</a>
                </div>

                <div class="service-card" onclick="selectService('virtual')">
                    <div class="service-icon">💻</div>
                    <h3>Virtual Events</h3>
                    <p>Interactive online tastings with wines shipped directly to participants nationwide</p>
                    <div class="service-price">From $95 <span>/person</span></div>
                    <div style="color: var(--primary); font-weight: 600; margin: 0.5rem 0;">🌐 Ships Nationwide</div>
                    <a href="#bookingWidget" class="cta-button" onclick="trackEvent('Service', 'Click', 'Virtual')">Get Quote →</a>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <div class="section-header">
                <h2>Booking is Simple</h2>
                <p>From inquiry to unforgettable experience in four easy steps</p>
            </div>

            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Request Quote</h3>
                    <p>Share your event details and receive a customized proposal within 24 hours</p>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <h3>Customize Experience</h3>
                    <p>Work with our team to select wines and format perfect for your guests</p>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <h3>Confirm Booking</h3>
                    <p>Secure your date with a simple deposit and finalize all details</p>
                </div>

                <div class="step">
                    <div class="step-number">4</div>
                    <h3>Enjoy Your Event</h3>
                    <p>Our sommelier arrives prepared to deliver an exceptional experience</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Schedule Consultation CTA -->
    <section class="consultation-cta" style="background: var(--primary); padding: 4rem 5%; text-align: center;">
        <div class="container">
            <h2 style="font-size: 2.8rem; color: white; margin-bottom: 1rem;">Ready to Plan Your Perfect Wine Event?</h2>
            <p style="font-size: 1.3rem; color: rgba(255,255,255,0.9); margin-bottom: 2rem;">Schedule a free consultation with our certified sommeliers</p>

            <div style="display: flex; gap: 2rem; justify-content: center; align-items: center; flex-wrap: wrap; margin: 2rem 0;">
                <a href="tel:415-289-9760" style="display: inline-flex; align-items: center; gap: 0.5rem; background: white; color: var(--primary); padding: 1.2rem 2rem; border-radius: 50px; text-decoration: none; font-size: 1.2rem; font-weight: 600; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 30px rgba(0,0,0,0.2)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                    <span style="font-size: 1.5rem;">📞</span>
                    <span>Call 415-289-9760</span>
                </a>

                <span style="color: rgba(255,255,255,0.7); font-size: 1.2rem; font-weight: 300;">or</span>

                <a href="mailto:Office@sommeliercompany.com" style="display: inline-flex; align-items: center; gap: 0.5rem; background: transparent; color: white; padding: 1.2rem 2rem; border: 2px solid white; border-radius: 50px; text-decoration: none; font-size: 1.2rem; font-weight: 600; transition: all 0.3s;" onmouseover="this.style.background='white'; this.style.color='var(--primary)';" onmouseout="this.style.background='transparent'; this.style.color='white';">
                    <span style="font-size: 1.5rem;">✉️</span>
                    <span>Email Office@SommelierCompany.com</span>
                </a>
            </div>

            <p style="color: rgba(255,255,255,0.8); font-size: 1rem; margin-top: 2rem;">
                <strong>Office Hours:</strong> Monday - Friday 9AM-6PM PST | Saturday 10AM-4PM PST
            </p>

            <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.2);">
                <p style="color: rgba(255,255,255,0.9); font-size: 1.1rem; line-height: 1.6;">
                    ✨ <strong>Free Consultation Includes:</strong> Event planning advice • Wine selection recommendations • Budget optimization • Venue suggestions
                </p>
            </div>
        </div>
    </section>

    <!-- Wine Education CTA -->
    <section class="wine-education-cta" style="background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg-white) 100%); padding: 4rem 5%;">
        <div class="container" style="text-align: center;">
            <h2 style="font-size: 2.5rem; color: var(--text-dark); margin-bottom: 1rem;">Free Wine Education Resources</h2>
            <p style="font-size: 1.2rem; color: var(--text-light); margin-bottom: 2rem;">Learn from certified sommeliers with our comprehensive wine education hub</p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; max-width: 800px; margin: 3rem auto;">
                <a href="wine-education-hub.html#downloads" style="text-decoration: none;">
                    <div style="background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: transform 0.3s;">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">📚</div>
                        <h3 style="color: var(--text-dark); margin-bottom: 0.5rem;">6 Free PDF Guides</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">Tasting notes, pairing charts, party planning</p>
                    </div>
                </a>
                <a href="wine-education-hub.html#pairing" style="text-decoration: none;">
                    <div style="background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: transform 0.3s;">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">🍷</div>
                        <h3 style="color: var(--text-dark); margin-bottom: 0.5rem;">AI Pairing Tool</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">Perfect wine matches for any meal</p>
                    </div>
                </a>
                <a href="wine-education-hub.html#quiz" style="text-decoration: none;">
                    <div style="background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: transform 0.3s;">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">🎓</div>
                        <h3 style="color: var(--text-dark); margin-bottom: 0.5rem;">Wine Quiz</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">Test your knowledge, get recommendations</p>
                    </div>
                </a>
                <a href="wine-education-hub.html#articles" style="text-decoration: none;">
                    <div style="background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: transform 0.3s;">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">📖</div>
                        <h3 style="color: var(--text-dark); margin-bottom: 0.5rem;">Expert Articles</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">In-depth guides from master sommeliers</p>
                    </div>
                </a>
            </div>
            <a href="wine-education-hub.html" class="cta-button" style="display: inline-block; margin-top: 2rem; background: var(--primary); color: white; padding: 1rem 2rem; border-radius: 50px; text-decoration: none; font-size: 1.1rem;">Explore Wine Education Hub →</a>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials" id="testimonials">
        <div class="container">
            <div class="section-header">
                <h2>What Our Clients Say</h2>
                <p>Join hundreds of satisfied customers nationwide</p>
            </div>

            <div class="testimonials-grid">
                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                <span style="background: #52a373; color: white; padding: 0.25rem 0.5rem; border-radius: 10px; font-size: 0.8rem; font-weight: 600;">✓ Verified Purchase</span>
                <span style="color: #999; font-size: 0.8rem;">2 days ago</span>
            </div>
                    <p class="testimonial-text">"The sommelier was incredibly knowledgeable and made our corporate event truly memorable. Our clients are still talking about it!"</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">JD</div>
                        <div class="author-info">
                            <h4>Jennifer Davis</h4>
                            <p>Microsoft, Seattle</p>
                        </div>
                    </div>
                </div>

                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                <span style="background: #52a373; color: white; padding: 0.25rem 0.5rem; border-radius: 10px; font-size: 0.8rem; font-weight: 600;">✓ Verified Purchase</span>
                <span style="color: #999; font-size: 0.8rem;">2 days ago</span>
            </div>
                    <p class="testimonial-text">"Perfect for our wedding reception! The wine pairings were exquisite and the presentation was elegant."</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">MR</div>
                        <div class="author-info">
                            <h4>Michael Rodriguez</h4>
                            <p>Wedding Client, Austin</p>
                        </div>
                    </div>
                </div>

                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                <span style="background: #52a373; color: white; padding: 0.25rem 0.5rem; border-radius: 10px; font-size: 0.8rem; font-weight: 600;">✓ Verified Purchase</span>
                <span style="color: #999; font-size: 0.8rem;">2 days ago</span>
            </div>
                    <p class="testimonial-text">"The virtual tasting exceeded expectations! Seamless delivery and engaging presentation. Highly recommend!"</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">ST</div>
                        <div class="author-info">
                            <h4>Sarah Thompson</h4>
                            <p>Goldman Sachs, New York</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Chatbot -->
    <div class="chatbot-container">
        <div class="chatbot-window" id="chatWindow">
            <div class="chat-header">
                <h3>
                    <span class="status-indicator"></span>
                    Wine Concierge
                </h3>
                <button class="close-chat" onclick="toggleChat()">×</button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    <p>Hello! I'm your personal wine concierge. How can I help you plan the perfect event?</p>
                    <div class="quick-replies">
                        <button class="quick-reply" onclick="sendQuickReply('Get pricing')">Get pricing</button>
                        <button class="quick-reply" onclick="sendQuickReply('Check availability')">Check availability</button>
                        <button class="quick-reply" onclick="sendQuickReply('Wine recommendations')">Wine recommendations</button>
                        <button class="quick-reply" onclick="sendQuickReply('Virtual events')">Virtual events</button>
                    </div>
                </div>
            </div>

            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Type your question..." onkeypress="handleChatKeypress(event)">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>

        <button class="chatbot-button" onclick="toggleChat()">
            💬
            <span class="chat-badge">1</span>
        </button>
    </div>

    <!-- Footer -->
    <footer id="contact">
        <div class="footer-content">
            <div class="footer-section">
                <h3>The Sommelier Company</h3>
                <p>Premium wine experiences nationwide</p>
                <p>📞 415-289-9760</p>
                <p>📧 Office@SommelierCompany.com</p>
                <div class="social-links">
                    <a href="#">📘</a>
                    <a href="#">📷</a>
                    <a href="#">🐦</a>
                    <a href="#">💼</a>
                </div>
            </div>

            <div class="footer-section">
                <h3>Services</h3>
                <a href="#">Corporate Events</a><br>
                <a href="#">Private Tastings</a><br>
                <a href="#">Virtual Events</a><br>
                <a href="wine-education-hub.html">Wine Education</a><br>
                <a href="#">Consulting</a>
            </div>

            <div class="footer-section">
                <h3>Resources</h3>
                <a href="wine-education-hub.html">Wine Education Hub</a><br>
                <a href="wine-education-hub.html#downloads">Free Wine Guides</a><br>
                <a href="wine-education-hub.html#pairing">Food Pairing Tool</a><br>
                <a href="wine-education-hub.html#quiz">Wine Knowledge Quiz</a><br>
                <a href="#testimonials">Client Reviews</a>
            </div>

            <div class="footer-section">
                <h3>Company</h3>
                <a href="#">About Us</a><br>
                <a href="#">Our Sommeliers</a><br>
                <a href="#">Locations</a><br>
                <a href="#">Careers</a><br>
                <a href="#">Contact</a>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2024 The Sommelier Company. All rights reserved. | Privacy Policy | Terms of Service</p>
        </div>
    </footer>

    <script>
        // Enhanced Analytics and Conversion Tracking
        function trackEvent(category, action, label, value) {
            if (typeof gtag !== 'undefined') {
                gtag('event', action, {
                    'event_category': category,
                    'event_label': label,
                    'value': value
                });
            }
            console.log('Event tracked:', {category, action, label, value});
        }

        // Geo-location Detection for Personalization
        function detectUserLocation() {
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    const city = data.city || 'Your City';
                    const userCityElement = document.getElementById('userCity');
                    if (userCityElement) {
                        userCityElement.textContent = city;
                    }
                    // Pre-fill location in form
                    const locationInput = document.getElementById('location');
                    if (locationInput && city !== 'Your City') {
                        locationInput.value = city + ', ' + (data.region_code || '');
                    }
                    trackEvent('Location', 'Detected', city);
                })
                .catch(error => console.log('Location detection failed'));
        }

        // Exit Intent Detection
        let exitIntentShown = false;
        document.addEventListener('mouseleave', function(e) {
            if (e.clientY <= 0 && !exitIntentShown && !sessionStorage.getItem('exitPopupShown')) {
                exitIntentShown = true;
                sessionStorage.setItem('exitPopupShown', 'true');
                showExitPopup();
                trackEvent('Popup', 'Exit Intent', 'Shown');
            }
        });

        function showExitPopup() {
            const popup = document.createElement('div');
            popup.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center;">
                    <div style="background: white; padding: 3rem; border-radius: 20px; max-width: 500px; text-align: center; position: relative;">
                        <button onclick="this.parentElement.parentElement.remove()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 2rem; cursor: pointer; color: #999;">×</button>
                        <h2 style="color: #2c1810; margin-bottom: 1rem;">Wait! Don't Leave Empty-Handed</h2>
                        <div style="font-size: 3rem; color: #d4af37; font-weight: 700; margin: 1rem 0;">15% OFF</div>
                        <p style="color: #6b5d54; margin-bottom: 1.5rem;">Your First Wine Event</p>
                        <form onsubmit="handleExitOffer(event)">
                            <input type="email" placeholder="Enter your email" required style="width: 100%; padding: 1rem; border: 2px solid #e5e5e5; border-radius: 10px; margin-bottom: 1rem;">
                            <button type="submit" style="width: 100%; background: #722f37; color: white; padding: 1rem; border: none; border-radius: 10px; font-weight: 600; cursor: pointer;">Claim My Discount</button>
                        </form>
                        <p style="font-size: 0.9rem; color: #6b5d54; margin-top: 1rem;">Valid for events booked within 30 days</p>
                    </div>
                </div>
            `;
            document.body.appendChild(popup);
        }

        function handleExitOffer(e) {
            e.preventDefault();
            const email = e.target.querySelector('input[type="email"]').value;
            trackEvent('Lead', 'Exit Popup', 'Email Captured');
            alert('Thank you! Check your email for your 15% discount code.');
            e.target.parentElement.parentElement.remove();
        }

        // Set minimum date for booking to tomorrow
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        document.getElementById('eventDate').min = tomorrow.toISOString().split('T')[0];

        // Mobile menu toggle
        const mobileToggle = document.getElementById('mobileToggle');
        const navMenu = document.getElementById('navMenu');

        mobileToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    // Close mobile menu if open
                    navMenu.classList.remove('active');
                }
            });
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 100) {
                header.style.boxShadow = '0 4px 20px rgba(0,0,0,0.1)';
            } else {
                header.style.boxShadow = '0 2px 10px rgba(0,0,0,0.08)';
            }
        });

        // Booking form submission - redirect to full wizard
        document.getElementById('quickBookingForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const formData = {
                eventType: document.getElementById('eventType').value,
                eventDate: document.getElementById('eventDate').value,
                guestCount: document.getElementById('guestCount').value,
                location: document.getElementById('location').value
            };

            // Track form submission
            trackEvent('Lead', 'Quote Form', 'Submitted', formData.guestCount * 150);

            // Store form data in sessionStorage to pass to booking wizard
            sessionStorage.setItem('bookingData', JSON.stringify(formData));
            sessionStorage.setItem('discount', '15'); // Apply current promotion

            // Show loading state
            const button = e.target.querySelector('button[type="submit"]');
            const originalText = button.innerHTML;
            button.innerHTML = 'Calculating Your Quote...';
            button.disabled = true;

            // Simulate calculation delay for psychological effect
            setTimeout(() => {
                // Redirect to the new booking wizard
                window.location.href = 'sommelier-booking-wizard-v2.html';
            }, 1000);
        });

        // Service selection
        function selectService(serviceType) {
            document.getElementById('eventType').value = serviceType;
            document.getElementById('bookingWidget').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }

        // Chatbot functionality
        let chatOpen = false;

        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            const badge = document.querySelector('.chat-badge');
            chatOpen = !chatOpen;

            if (chatOpen) {
                chatWindow.classList.add('active');
                badge.style.display = 'none';
                document.getElementById('chatInput').focus();
            } else {
                chatWindow.classList.remove('active');
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (message) {
                addMessage(message, 'user');
                input.value = '';

                // Simulate AI response
                setTimeout(() => {
                    const response = generateResponse(message.toLowerCase());
                    addMessage(response, 'bot');
                }, 1000);
            }
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendQuickReply(text) {
            addMessage(text, 'user');
            setTimeout(() => {
                const response = generateResponse(text.toLowerCase());
                addMessage(response, 'bot');
            }, 1000);
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `<p>${text}</p>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateResponse(message) {
            const responses = {
                pricing: "Our pricing starts at $95/person for virtual events, $125/person for private tastings, and $150/person for corporate events. Final pricing depends on your specific requirements, wine selections, and group size. Would you like a detailed quote?",
                availability: "We have sommeliers available nationwide! Please share your event date and location, and I'll check availability immediately. You can also use our booking form above for instant confirmation.",
                recommendations: "Our sommeliers curate wine selections based on your preferences and menu. Popular pairings include: Bordeaux blends for formal dinners, Spanish wines for tapas events, and diverse international selections for educational tastings. What type of event are you planning?",
                virtual: "Virtual tastings include: wines shipped to each participant, a dedicated sommelier host, interactive tasting guide, and can accommodate 10-500 guests. Perfect for remote teams and multi-city celebrations!",
                default: "I'd be happy to help! You can: 1) Fill out the booking form above for an instant quote, 2) Call us at 415-289-9760, or 3) Email Office@SommelierCompany.com, or 4) Tell me more about your event and I'll provide personalized recommendations."
            };

            if (message.includes('pric') || message.includes('cost') || message.includes('pricing')) {
                return responses.pricing;
            } else if (message.includes('avail') || message.includes('date') || message.includes('when')) {
                return responses.availability;
            } else if (message.includes('wine') || message.includes('recommend') || message.includes('suggest')) {
                return responses.recommendations;
            } else if (message.includes('virtual') || message.includes('online') || message.includes('remote')) {
                return responses.virtual;
            } else {
                return responses.default;
            }
        }

        // Analytics tracking simulation
        function trackEvent(category, action, label) {
            console.log('Analytics Event:', { category, action, label });
            // In production, integrate with Google Analytics or similar
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            detectUserLocation();
            trackEvent('Page', 'View', 'Homepage');

            // Add urgency countdown
            const updateCountdown = () => {
                const now = new Date();
                const midnight = new Date();
                midnight.setHours(24, 0, 0, 0);
                const diff = midnight - now;
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

                const countdownElements = document.querySelectorAll('.countdown');
                countdownElements.forEach(el => {
                    el.textContent = `${hours}h ${minutes}m`;
                });
            };

            updateCountdown();
            setInterval(updateCountdown, 60000);

            // Add live visitor counter (simulated)
            const visitorCount = Math.floor(Math.random() * 20) + 5;
            const visitorElement = document.createElement('div');
            visitorElement.style.cssText = 'position: fixed; bottom: 20px; left: 20px; background: white; padding: 1rem; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); z-index: 100; font-size: 0.9rem;';
            visitorElement.innerHTML = `<span style="color: #52a373; font-weight: 600;">👥 ${visitorCount} people</span> viewing this page now`;
            document.body.appendChild(visitorElement);
        });

        // Track CTA clicks
        document.querySelectorAll('.cta-button').forEach(button => {
            button.addEventListener('click', () => {
                trackEvent('CTA', 'Click', button.textContent);
            });
        });

        // Lazy loading for images (when added)
        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });

            document.querySelectorAll('img.lazy').forEach(img => {
                imageObserver.observe(img);
            });
        }

        // Service Worker for PWA capabilities (offline support)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // In production, register service worker for offline functionality
                console.log('Service Worker support detected');
            });
        }

        // A/B Testing Framework
        function getVariant() {
            return Math.random() > 0.5 ? 'A' : 'B';
        }

        const testVariant = getVariant();
        console.log('A/B Test Variant:', testVariant);

        // Apply variant-specific changes
        if (testVariant === 'B') {
            // Example: Test different CTA text
            document.querySelectorAll('.cta-button').forEach(button => {
                if (button.textContent.includes('Book Event')) {
                    button.textContent = 'Get Started';
                }
            });
        }

        // Performance monitoring
        window.addEventListener('load', () => {
            const perfData = performance.getEntriesByType('navigation')[0];
            console.log('Page Load Time:', perfData.loadEventEnd - perfData.fetchStart, 'ms');
        });
    </script>

    <!-- Floating CTA Button for Mobile -->
    <a href="#bookingWidget" class="floating-cta">
        🍷 Book Now
    </a>

    <script>
        // Hide floating CTA when near booking widget
        window.addEventListener('scroll', () => {
            const bookingWidget = document.getElementById('bookingWidget');
            const floatingCTA = document.querySelector('.floating-cta');
            if (bookingWidget && floatingCTA) {
                const rect = bookingWidget.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    floatingCTA.style.opacity = '0';
                    floatingCTA.style.pointerEvents = 'none';
                } else {
                    floatingCTA.style.opacity = '1';
                    floatingCTA.style.pointerEvents = 'auto';
                }
            }
        });
    </script>
</body>
</html>